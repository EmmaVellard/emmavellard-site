---
const pathname = Astro.url.pathname;
---

<header class="navbar">
  <div class="navbar-inner">

    <!-- LEFT -->
    <a class="navbar-brand" href="/">Emma Vellard</a>

    <!-- RIGHT -->
    <div class="navbar-right">

      <nav class="navbar-links">

        <a class={`nav-link ${pathname.startsWith("/about") ? "active" : ""}`} href="/about">
          About
        </a>

        <a class={`nav-link ${pathname.startsWith("/projects") ? "active" : ""}`} href="/projects">
          Projects
        </a>

        <a class={`nav-link ${pathname.startsWith("/experience") ? "active" : ""}`} href="/experience">
          Experience
        </a>

        <a class={`nav-link ${pathname.startsWith("/education") ? "active" : ""}`} href="/education">
          Education
        </a>

        <a class={`nav-link ${pathname.startsWith("/conferences") ? "active" : ""}`} href="/conferences">
          Conferences
        </a>

        <a class={`nav-link ${pathname.startsWith("/contact") ? "active" : ""}`} href="/contact">
          Contact
        </a>

      </nav>

      <div class="nav-icons" aria-label="Social links">
        <a class="icon-link" href="mailto:emma.vellard@outlook.fr" aria-label="Email">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5L4 8V6l8 5 8-5v2z"/>
          </svg>
        </a>

        <a class="icon-link" href="https://github.com/EmmaVellard" target="_blank" rel="noopener" aria-label="GitHub">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 .5C5.73.5.75 5.62.75 12c0 5.1 3.29 9.42 7.86 10.95.58.11.8-.26.8-.58 0-.28-.01-1.02-.02-2-3.2.71-3.88-1.58-3.88-1.58-.53-1.38-1.3-1.75-1.3-1.75-1.06-.75.08-.74.08-.74 1.17.08 1.78 1.23 1.78 1.23 1.04 1.82 2.72 1.29 3.38.99.1-.77.41-1.29.74-1.58-2.55-.3-5.23-1.31-5.23-5.82 0-1.29.45-2.34 1.19-3.17-.12-.3-.52-1.53.11-3.19 0 0 .97-.32 3.18 1.21.92-.26 1.9-.39 2.88-.39.98 0 1.96.13 2.88.39 2.21-1.53 3.18-1.21 3.18-1.21.63 1.66.23 2.89.11 3.19.74.83 1.19 1.88 1.19 3.17 0 4.52-2.69 5.52-5.25 5.81.42.37.79 1.1.79 2.22 0 1.6-.02 2.89-.02 3.28 0 .32.21.69.81.58A11.3 11.3 0 0 0 23.25 12C23.25 5.62 18.27.5 12 .5z"/>
          </svg>
        </a>

        <a class="icon-link" href="https://www.linkedin.com/in/emma-vellard" target="_blank" rel="noopener" aria-label="LinkedIn">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M4.98 3.5C3.88 3.5 3 4.4 3 5.5S3.88 7.5 4.98 7.5c1.09 0 1.97-.9 1.97-2S6.07 3.5 4.98 3.5zM3.5 21h3V9h-3v12zM9 9h2.9v1.64h.04c.4-.76 1.38-1.56 2.84-1.56C17.7 9.08 19 10.4 19 13.2V21h-3v-6.72c0-1.6-.03-3.66-2.23-3.66-2.23 0-2.57 1.74-2.57 3.54V21H9V9z"/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</header>


<script>
  const navbar = document.querySelector(".navbar");
  let isScrolled = false;

  const update = () => {
    if (window.scrollY > 20 && !isScrolled) {
      navbar.classList.add("scrolled");
      isScrolled = true;
    } else if (window.scrollY <= 20 && isScrolled) {
      navbar.classList.remove("scrolled");
      isScrolled = false;
    }
  };

  update();
  window.addEventListener("scroll", update, { passive: true });
</script>
